# Chapter 7

## Module 7.1 Memory Subsystem Basics

### Problem
- Q: Base CPI is 1.2. Every 5th instr is ld, memory access is 10 cycles. What is the new CPI?

![image](https://github.com/user-attachments/assets/04b20f47-9982-49f9-adb1-77fe1dbc4241)

### Motivation
![image](https://github.com/user-attachments/assets/199efcfc-09d5-4ac1-b11a-152e00a11082)

### Types of Memory
![image](https://github.com/user-attachments/assets/f98bf573-1d25-406b-a4e6-cf5d61fe88c1)

### Storage Technology Trends
![image](https://github.com/user-attachments/assets/46d621fc-fdf6-4717-bbac-a02cedf15c5c)

### The "Memory Wall"
![image](https://github.com/user-attachments/assets/855e3aeb-f874-41fb-9405-83bbd43d23db)

### Basic Memory Array Structure
![image](https://github.com/user-attachments/assets/f987983b-b434-47e8-865a-411f6414d24c)

### Physical Cache/Memory Layout
![image](https://github.com/user-attachments/assets/a4d3964d-2b58-4e09-ae24-cf2028124043)

![image](https://github.com/user-attachments/assets/e2d6c8c3-d3ca-468a-a3d9-025307b7e5c8)

### Challenge: CPU-Memory Gap
![image](https://github.com/user-attachments/assets/dee8232f-001f-4c93-b5d8-338e5d2317c8)

## Module 7.2 Understanding Locality

### Locality
![image](https://github.com/user-attachments/assets/b00785f0-debb-4545-9518-fdcec49b9e80)

### Two Flavors of Locality
![image](https://github.com/user-attachments/assets/37467b57-b6fd-423d-ac9d-f7ae4e319141)

### Connect Locality and Caches
![image](https://github.com/user-attachments/assets/010b57cc-0253-4a4f-924a-541f991497f4)

### Illusion of Speed and Capacity
![image](https://github.com/user-attachments/assets/c305189f-8df0-458e-96fc-af23d49fdaa4)

### Why Caches Work
![image](https://github.com/user-attachments/assets/76d831c9-ee36-4f62-8abd-dc843ea5a4e6)

## Module 7.3 Levels of the Memory Hierarchy: Key Differences and Similarities

### Exploiting Locality: Memory Hierarchy
![image](https://github.com/user-attachments/assets/36920a49-afda-4711-ac26-ae5e3f8db6cb)

### Concrete Memory Hierarchy
![image](https://github.com/user-attachments/assets/bc1ba1d1-7ed0-4b13-8031-8c1657938a36)

### Register <-> Main memory
![image](https://github.com/user-attachments/assets/aa0cd50f-f3ae-43dd-9071-25f15579ab85)

### Disk <-> Memory
![image](https://github.com/user-attachments/assets/2b89941e-9d76-4006-b62c-d9c64cb37745)

### Cache <-> Memory
![image](https://github.com/user-attachments/assets/012447a5-300c-4667-b2ed-6fc4114c9ddf)

### This Unit: Caches
![image](https://github.com/user-attachments/assets/75305b0a-46bb-42a2-8979-d8c0d54f9d98)

## Module 7.4 Basic Cache Operation

### Cache Operation
- Q: What is a frame in cache?

![image](https://github.com/user-attachments/assets/9060dbe7-8def-4177-af82-6abdb8b52e25)

Note: at startup, all valid bits are zero.

![image](https://github.com/user-attachments/assets/ef3ae2c2-c5f4-48f7-a773-ff7a34567b0c)

### Example of cache operation
![image](https://github.com/user-attachments/assets/7595ad49-e552-4a12-81fe-5e82ba80f129)

- Q: Fill in this cache:![image](https://github.com/user-attachments/assets/c2c08c58-439f-4dad-a73f-b830ebd110c8)

![image](https://github.com/user-attachments/assets/c6c24fd3-d9d0-4af0-9fe6-9c72411e19a4)
